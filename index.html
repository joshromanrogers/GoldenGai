<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Hello, World! - A-Frame</title>
    <meta name="description" content="Hello, World! - A-Frame">
    <script src="./index.js" type="text/javascript"></script>
    <script src="https://aframe.io/releases/0.8.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-room-component/dist/aframe-room-component.min.js"></script> 
    <script src="https://rawgit.com/takahirox/aframe-rain/master/build/aframe-rain.min.js"></script>
    <script src="https://unpkg.com/aframe-template-component@^3.1.1/dist/aframe-template-component.min.js"></script>
    <script src="https://unpkg.com/aframe-randomizer-components@^3.0.1/dist/aframe-randomizer-components.min.js"></script>
    <script src="nunjucks.js"></script>

    <!-- template lit -->
    <script id="building" type="text/x-nunjucks-template">
      {% for x in range(0, 5) %}
        <a-entity template="src: building.template; type: handlebars"
                  position="{{ x * 5 }} 0 0" >
        </a-entity>
      {% endfor %}
    </script> 
    
    
  </head>
  <body>
    <a-scene rain>

        <!-- assets -->
        <a-assets>
            <img id="floor" src="img/floor.jpg">
            <img id="floorNormal" src="img/floorNormal.jpg">
            <img id="nightSky" src="img/nightSky.jpg">
        </a-assets>

        <!-- Default lighting injected by A-Frame. -->
        <a-entity light="type: ambient; color: #BBB"></a-entity>
        <a-entity light="type: directional; color: #FFF; intensity: 0.6" position="-0.5 1 1"></a-entity>

        <!-- ground -->
        <a-plane material="src: #floor;
                             repeat: 5000 5000;
                             normal-map: #floorNormal;
                             normal-texture-repeat: 5000 5000"
                   rotation="-90 0 0"
                   scale="10000 10000 1">
        </a-plane>

        <!-- sky -->
        <a-sky src="#nightSky" rotation="0 30 0"></a-sky>

        <!-- Nunjucks literal templates -->

        <!-- 1st row -->
        <a-entity template="src: #building"></a-entity>
        
        <!-- 2nd row -->
        <a-entity template="src: #building" position="50 0 12" rotation="0 180 0"></a-entity>
                            
    </a-scene>

  </body>


</html>
